<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vite构建工具 - Vue.js教程</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: #f8f9fa;
            color: #333;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            padding: 30px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }
        
        h1 {
            color: #42b983;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .navigation {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .nav-link {
            display: inline-block;
            margin: 0 10px;
            padding: 8px 16px;
            background: #42b983;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            transition: background 0.3s;
        }
        
        .nav-link:hover {
            background: #359c6d;
        }
        
        .content {
            margin-bottom: 30px;
        }
        
        h2 {
            color: #34495e;
            margin: 25px 0 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
        }
        
        h3 {
            color: #555;
            margin: 20px 0 12px;
        }
        
        p {
            margin-bottom: 15px;
            line-height: 1.8;
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
        }
        
        .vue-features {
            background: #e8f5e9;
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
        }
        
        .vue-features h3 {
            color: #2e7d32;
            margin-bottom: 15px;
        }
        
        .vue-features ul {
            padding-left: 25px;
        }
        
        .vue-features li {
            margin-bottom: 10px;
            line-height: 1.6;
        }
        
        .example-container {
            border: 1px solid #ddd;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #7f8c8d;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Vite构建工具</h1>
            <p class="subtitle">现代化构建工具</p>
        </header>
        
        <div class="navigation">
            <a href="./cli.html" class="nav-link">上一课：Vue CLI</a>
            <a href="../index.html" class="nav-link">返回首页</a>
            <a href="./testing.html" class="nav-link">下一课：测试</a>
        </div>
        
        <div class="content">
            <div class="vue-features">
                <h3>Vite核心特性</h3>
                <ul>
                    <li><strong>快速启动</strong>：基于原生ES模块的快速开发服务器</li>
                    <li><strong>即时热更新</li>
                    <li><strong>按需编译</strong>：只编译被请求的模块</li>
                    <li><strong>现代浏览器支持</strong>：利用现代浏览器原生ES模块</li>
                    <li><strong>插件生态</strong>：兼容Rollup插件生态</li>
                    <li><strong>多框架支持</strong>：不仅支持Vue，还支持React、Svelte等</li>
                </ul>
            </div>
            
            <h2>什么是Vite？</h2>
            <p>Vite（法语"快速"的意思）是Vue.js作者尤雨溪开发的新一代前端构建工具。它利用现代浏览器原生ES模块导入功能，提供极快的开发体验。Vite的核心思想是"按需编译"，只在浏览器请求时才编译对应模块。</p>
            
            <h2>为什么选择Vite？</h2>
            <p>Vite相比传统构建工具的优势：</p>
            <ul>
                <li><strong>启动速度快</strong>：无需打包，启动几乎是瞬间的</li>
                <li><strong>热更新快</strong>：更新时间与项目大小无关</li>
                <li><strong>按需编译</strong>：只编译当前请求的模块</li>
                <li><strong>更好的TypeScript支持</li>
                <li><strong>原生ES模块支持</li>
                <li><strong>开箱即用</strong>：无需额外配置即可使用</li>
            </ul>
            
            <h2>安装和创建项目</h2>
            <p>使用Vite创建Vue项目非常简单：</p>
            
            <div class="code-block">
npm create vite@latest my-vue-app -- --template vue
cd my-vue-app
npm install
npm run dev
</div>
            
            <p>这将创建一个新的Vue项目并启动开发服务器。</p>
            
            <h2>项目结构</h2>
            <p>Vite创建的项目结构非常简洁：</p>
            
            <div class="code-block">
my-vue-app/
├── public/                 # 静态资源
│   └── favicon.ico
├── src/                    # 源代码
│   ├── assets/             # 静态资源
│   ├── components/         # 组件
│   ├── App.vue             # 根组件
│   └── main.js             # 入口文件
├── index.html              # 主页面
├── vite.config.js          # Vite配置文件
├── package.json
└── jsconfig.json           # JavaScript配置
</div>
            
            <h2>入口文件</h2>
            <p>Vite的入口文件非常简洁，利用了原生ES模块：</p>
            
            <div class="code-block">
// src/main.js
import { createApp } from 'vue'
import App from './App.vue'

createApp(App).mount('#app')
</div>
            
            <h2>Vite配置文件</h2>
            <p>在项目根目录创建[vite.config.js](file:///e:\FrontendTeach\VUE快速上手\advanced\custom-elements.html#L134-L134)进行配置：</p>
            
            <div class="code-block">
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import { resolve } from 'path'

export default defineConfig({
  plugins: [vue()],
  
  // 基本路径
  base: './',
  
  // 开发服务器配置
  server: {
    host: '0.0.0.0',
    port: 3000,
    open: true,  // 启动时自动打开浏览器
    proxy: {
      '/api': {
        target: 'http://localhost:8080',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, '')
      }
    }
  },
  
  // 构建配置
  build: {
    outDir: 'dist',
    assetsDir: 'assets',
    minify: 'terser',  // 使用terser进行压缩
    rollupOptions: {
      output: {
        chunkFileNames: 'js/[name]-[hash].js',    // 引入文件名的名称
        entryFileNames: 'js/[name]-[hash].js',    // 包的入口文件名称
        assetFileNames: '[ext]/[name]-[hash].[ext]' // 静态资源地址
      }
    }
  },
  
  // 解析配置
  resolve: {
    alias: {
      '@': resolve(__dirname, 'src'),  // 配置@符号指向src目录
      '@assets': resolve(__dirname, 'src/assets'),
      '@components': resolve(__dirname, 'src/components')
    }
  },
  
  // CSS预处理器配置
  css: {
    preprocessorOptions: {
      scss: {
        additionalData: `@import "@/styles/variables.scss";`
      }
    }
  }
})
</div>
            
            <h2>开发服务器</h2>
            <p>Vite的开发服务器提供了许多便利功能：</p>
            
            <div class="code-block">
# 启动开发服务器
npm run dev

# 指定端口启动
npm run dev -- --port 8080

# 监听所有网络接口
npm run dev -- --host
</div>
            
            <p>开发服务器特性：</p>
            <ul>
                <li><strong>快速冷启动</strong>：无需打包，几乎瞬间启动</li>
                <li><strong>按需编译</li>
                <li><strong>HMR热更新</strong>：更新速度快，与项目大小无关</li>
                <li><strong>丰富的插件API</li>
                <li><strong>代理功能</strong>：支持请求代理</li>
            </ul>
            
            <h2>构建和部署</h2>
            <p>构建生产版本：</p>
            
            <div class="code-block">
# 构建生产版本
npm run build

# 预览构建结果
npm run preview
</div>
            
            <h2>环境变量</h2>
            <p>Vite支持环境变量，使用约定的前缀：</p>
            
            <div class="code-block">
# .env.development
VITE_API_URL=http://localhost:3000
VITE_APP_TITLE=开发环境

# .env.production
VITE_API_URL=https://api.production.com
VITE_APP_TITLE=生产环境
</div>
            
            <p>在代码中使用环境变量：</p>
            
            <div class="code-block">
&lt;script setup&gt;
const title = import.meta.env.VITE_APP_TITLE
const apiUrl = import.meta.env.VITE_API_URL

console.log('当前环境:', import.meta.env.MODE)
console.log('是否生产环境:', import.meta.env.PROD)
console.log('是否开发环境:', import.meta.env.DEV)
&lt;/script&gt;
</div>
            
            <h2>插件系统</h2>
            <p>Vite插件基于Rollup插件规范，可以使用大量Rollup插件：</p>
            
            <div class="code-block">
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import { VitePWA } from 'vite-plugin-pwa'  // PWA插件
import Components from 'unplugin-vue-components/vite'  // 自动导入组件
import { NaiveUiResolver } from 'unplugin-vue-components/resolvers'  // 组件解析器

export default defineConfig({
  plugins: [
    vue(),
    VitePWA({
      registerType: 'autoUpdate',
      manifest: {
        name: 'My App',
        short_name: 'My App',
        theme_color: '#ffffff'
      }
    }),
    Components({
      resolvers: [NaiveUiResolver()]
    })
  ]
})
</div>
            
            <h2>静态资源处理</h2>
            <p>Vite对静态资源的处理非常直观：</p>
            
            <div class="code-block">
&lt;template&gt;
  &lt;div&gt;
    &lt;!-- 静态资源引用 --&gt;
    &lt;img src="./assets/logo.png" alt="Logo"&gt;
    &lt;img :src="imagePath" alt="Dynamic Image"&gt;
    
    &lt;!-- 导入静态资源 --&gt;
    &lt;img :src="logo" alt="Imported Logo"&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import logo from './assets/logo.png'

// 静态导入，返回资源路径
const imagePath = new URL('./assets/image.jpg', import.meta.url).href
&lt;/script&gt;
</div>
            
            <h2>多页面应用</h2>
            <p>配置多页面应用：</p>
            
            <div class="code-block">
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [vue()],
  build: {
    rollupOptions: {
      input: {
        main: './index.html',
        nested: './nested/index.html'
      }
    }
  }
})
</div>
            
            <h2>性能优化</h2>
            <p>Vite提供了多种性能优化方式：</p>
            
            <ul>
                <li><strong>依赖预构建</strong>：将依赖转换为ES模块并缓存</li>
                <li><strong>动态导入</strong>：实现代码分割</li>
                <li><strong>资源压缩</strong>：支持多种压缩算法</li>
            </ul>
            
            <div class="code-block">
// 动态导入实现代码分割
const About = () => import('./views/About.vue')
const Contact = () => import('./views/Contact.vue')

// 在路由配置中使用
{
  path: '/about',
  component: About
},
{
  path: '/contact',
  component: Contact
}
</div>
        </div>
        
        <div class="navigation">
            <a href="./cli.html" class="nav-link">上一课：Vue CLI</a>
            <a href="../index.html" class="nav-link">返回首页</a>
            <a href="./testing.html" class="nav-link">下一课：测试</a>
        </div>
        
        <footer>
            <p>Vite构建工具 - 现代化前端开发体验</p>
            <p>© 2026 Vue.js学习网 - 专业的Vue.js教程平台</p>
        </footer>
    </div>
</body>
</html>