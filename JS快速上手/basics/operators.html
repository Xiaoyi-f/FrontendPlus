<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>运算符与表达式 - JavaScript快速上手</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: #f8f9fa;
            color: #333;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            padding: 30px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }
        
        h1 {
            color: #2c3e50;
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .breadcrumb {
            color: #7f8c8d;
            margin-bottom: 15px;
        }
        
        .content {
            margin-bottom: 30px;
        }
        
        h2 {
            color: #34495e;
            margin: 25px 0 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
        }
        
        h3 {
            color: #555;
            margin: 20px 0 12px;
        }
        
        p {
            margin-bottom: 15px;
            line-height: 1.8;
        }
        
        .code-block {
            background: #2d3648;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
        }
        
        .code-comment {
            color: #637777;
        }
        
        .code-keyword {
            color: #c792ea;
        }
        
        .code-variable {
            color: #ffcb6b;
        }
        
        .code-string {
            color: #c3e88d;
        }
        
        .code-number {
            color: #f78c6c;
        }
        
        .code-function {
            color: #82aaff;
        }
        
        .code-boolean {
            color: #ff5874;
        }
        
        .operator-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .operator-table th, .operator-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        .operator-table th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        
        .operator-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .key-features {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
        }
        
        .key-features h3 {
            color: #0d47a1;
            margin-bottom: 15px;
        }
        
        .key-features ul {
            padding-left: 25px;
        }
        
        .key-features li {
            margin-bottom: 10px;
            line-height: 1.6;
        }
        
        .comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .comparison-item {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
        
        .comparison-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .practice {
            background: #e8f5e9;
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
        }
        
        .practice h3 {
            color: #2e7d32;
            margin-bottom: 15px;
        }
        
        .practice ul {
            padding-left: 25px;
        }
        
        .practice li {
            margin-bottom: 10px;
        }
        
        .operator-category {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }
        
        .operator-category-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        nav {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        .nav-link {
            display: inline-block;
            padding: 10px 20px;
            background: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin: 0 10px;
        }
        
        .nav-link:hover {
            background: #2980b9;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #7f8c8d;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="breadcrumb">JavaScript快速上手 > 基础语法 > 运算符与表达式</div>
            <h1>运算符与表达式</h1>
        </header>
        
        <div class="content">
            <p>运算符是JavaScript中用于执行特定操作的符号，它们用于操作数据值，包括变量和字面量。表达式是由运算符连接的值、变量和函数调用组成的组合，它会计算出一个值。掌握运算符是编写JavaScript程序的基础。</p>
            
            <div class="key-features">
                <h3>运算符概览</h3>
                <ul>
                    <li><strong>算术运算符</strong>：执行数学运算</li>
                    <li><strong>赋值运算符</strong>：给变量赋值</li>
                    <li><strong>比较运算符</strong>：比较两个值</li>
                    <li><strong>逻辑运算符</strong>：执行布尔运算</li>
                    <li><strong>位运算符</strong>：对数值的位模式进行操作</li>
                    <li><strong>三元运算符</strong>：条件运算符</li>
                    <li><strong>字符串运算符</strong>：字符串操作</li>
                    <li><strong>其他运算符</strong>：如typeof, instanceof等</li>
                </ul>
            </div>
            
            <h2>算术运算符</h2>
            <p>算术运算符用于执行数学运算：</p>
            
            <table class="operator-table">
                <thead>
                    <tr>
                        <th>运算符</th>
                        <th>描述</th>
                        <th>示例</th>
                        <th>结果</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>+</td>
                        <td>加法</td>
                        <td>10 + 5</td>
                        <td>15</td>
                    </tr>
                    <tr>
                        <td>-</td>
                        <td>减法</td>
                        <td>10 - 5</td>
                        <td>5</td>
                    </tr>
                    <tr>
                        <td>*</td>
                        <td>乘法</td>
                        <td>10 * 5</td>
                        <td>50</td>
                    </tr>
                    <tr>
                        <td>/</td>
                        <td>除法</td>
                        <td>10 / 5</td>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>%</td>
                        <td>余数</td>
                        <td>10 % 3</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>++</td>
                        <td>递增</td>
                        <td>x = 5, x++</td>
                        <td>6</td>
                    </tr>
                    <tr>
                        <td>--</td>
                        <td>递减</td>
                        <td>x = 5, x--</td>
                        <td>4</td>
                    </tr>
                    <tr>
                        <td>**</td>
                        <td>幂运算</td>
                        <td>2 ** 3</td>
                        <td>8</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="code-block">
                <span class="code-keyword">let</span> a = <span class="code-number">10</span>;<br>
                <span class="code-keyword">let</span> b = <span class="code-number">3</span>;<br><br>
                
                console.log(a + b); <span class="code-comment">// 13 - 加法</span><br>
                console.log(a - b); <span class="code-comment">// 7 - 减法</span><br>
                console.log(a * b); <span class="code-comment">// 30 - 乘法</span><br>
                console.log(a / b); <span class="code-comment">// 3.333... - 除法</span><br>
                console.log(a % b); <span class="code-comment">// 1 - 余数</span><br>
                console.log(a ** b); <span class="code-comment">// 1000 - 幂运算</span><br><br>
                
                <span class="code-keyword">let</span> c = <span class="code-number">5</span>;<br>
                console.log(c++); <span class="code-comment">// 5 - 后递增，先返回值再递增</span><br>
                console.log(c); <span class="code-comment">// 6</span><br><br>
                
                <span class="code-keyword">let</span> d = <span class="code-number">5</span>;<br>
                console.log(++d); <span class="code-comment">// 6 - 先递增再返回值</span><br><br>
                
                <span class="code-comment">// 特殊情况</span><br>
                console.log(<span class="code-string">"5"</span> + <span class="code-number">3</span>); <span class="code-comment">// "53" - 字符串拼接</span><br>
                console.log(<span class="code-string">"5"</span> - <span class="code-number">3</span>); <span class="code-comment">// 2 - 数字运算</span><br>
                console.log(<span class="code-number">10</span> + <span class="code-boolean">true</span>); <span class="code-comment">// 11 - true被转换为1</span><br>
            </div>
            
            <h2>赋值运算符</h2>
            <p>赋值运算符用于给变量赋值：</p>
            
            <div class="code-block">
                <span class="code-keyword">let</span> x = <span class="code-number">10</span>; <span class="code-comment">// 基本赋值</span><br><br>
                
                x += <span class="code-number">5</span>; <span class="code-comment">// 等同于 x = x + 5; x 现在是 15</span><br>
                console.log(x); <span class="code-comment">// 15</span><br><br>
                
                x -= <span class="code-number">3</span>; <span class="code-comment">// 等同于 x = x - 3; x 现在是 12</span><br>
                x *= <span class="code-number">2</span>; <span class="code-comment">// 等同于 x = x * 2; x 现在是 24</span><br>
                x /= <span class="code-number">4</span>; <span class="code-comment">// 等同于 x = x / 4; x 现在是 6</span><br>
                x %= <span class="code-number">4</span>; <span class="code-comment">// 等同于 x = x % 4; x 现在是 2</span><br>
                x **= <span class="code-number">3</span>; <span class="code-comment">// 等同于 x = x ** 3; x 现在是 8</span><br><br>
                
                <span class="code-comment">// ES2020引入的逻辑赋值运算符</span><br>
                <span class="code-keyword">let</span> name = <span class="code-boolean">null</span>;<br>
                name ||= <span class="code-string">'Default'</span>; <span class="code-comment">// 仅当name为falsy时赋值，等同于 name = name || 'Default'</span><br>
                console.log(name); <span class="code-comment">// 'Default'</span><br><br>
                
                <span class="code-keyword">let</span> user = { name: <span class="code-string">'John'</span> };<br>
                user.age ??= <span class="code-number">25</span>; <span class="code-comment">// 仅当user.age为null或undefined时赋值</span><br>
                console.log(user.age); <span class="code-comment">// 25</span><br>
            </div>
            
            <h2>比较运算符</h2>
            <p>比较运算符用于比较两个值，返回布尔值：</p>
            
            <table class="operator-table">
                <thead>
                    <tr>
                        <th>运算符</th>
                        <th>描述</th>
                        <th>示例</th>
                        <th>结果</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>==</td>
                        <td>相等（值相等）</td>
                        <td>5 == "5"</td>
                        <td>true</td>
                    </tr>
                    <tr>
                        <td>===</td>
                        <td>严格相等（值和类型都相等）</td>
                        <td>5 === "5"</td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td>!=</td>
                        <td>不相等</td>
                        <td>5 != 3</td>
                        <td>true</td>
                    </tr>
                    <tr>
                        <td>!==</td>
                        <td>严格不相等</td>
                        <td>5 !== "5"</td>
                        <td>true</td>
                    </tr>
                    <tr>
                        <td>></td>
                        <td>大于</td>
                        <td>5 > 3</td>
                        <td>true</td>
                    </tr>
                    <tr>
                        <td><</td>
                        <td>小于</td>
                        <td>5 < 3</td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td>>=</td>
                        <td>大于等于</td>
                        <td>5 >= 5</td>
                        <td>true</td>
                    </tr>
                    <tr>
                        <td><=</td>
                        <td>小于等于</td>
                        <td>5 <= 6</td>
                        <td>true</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="code-block">
                <span class="code-keyword">let</span> a = <span class="code-number">5</span>;<br>
                <span class="code-keyword">let</span> b = <span class="code-string">"5"</span>;<br>
                <span class="code-keyword">let</span> c = <span class="code-number">3</span>;<br><br>
                
                console.log(a == b); <span class="code-comment">// true - 值相等（类型转换）</span><br>
                console.log(a === b); <span class="code-comment">// false - 类型不同</span><br>
                console.log(a != c); <span class="code-comment">// true - 不相等</span><br>
                console.log(a !== b); <span class="code-comment">// true - 严格不相等</span><br><br>
                
                console.log(a > c); <span class="code-comment">// true - 大于</span><br>
                console.log(a < c); <span class="code-comment">// false - 小于</span><br>
                console.log(a >= b); <span class="code-comment">// true - 大于等于</span><br>
                console.log(a <= c); <span class="code-comment">// false - 小于等于</span><br><br>
                
                <span class="code-comment">// 特殊比较</span><br>
                console.log(<span class="code-boolean">null</span> == <span class="code-boolean">undefined</span>); <span class="code-comment">// true</span><br>
                console.log(<span class="code-boolean">null</span> === <span class="code-boolean">undefined</span>); <span class="code-comment">// false</span><br>
                console.log(NaN == NaN); <span class="code-comment">// false</span><br>
                console.log(NaN === NaN); <span class="code-comment">// false</span><br>
            </div>
            
            <h2>逻辑运算符</h2>
            <p>逻辑运算符用于判断条件的真假：</p>
            
            <div class="operator-category">
                <div class="operator-category-title">逻辑与(&&)、或(||)、非(!)</div>
                <div class="code-block">
                    <span class="code-keyword">let</span> x = <span class="code-number">6</span>;<br>
                    <span class="code-keyword">let</span> y = <span class="code-number">3</span>;<br><br>
                    
                    console.log(x < <span class="code-number">10</span> && y > <span class="code-number">1</span>); <span class="code-comment">// true - 两个条件都为真</span><br>
                    console.log(x > <span class="code-number">5</span> || y < <span class="code-number">5</span>); <span class="code-comment">// true - 至少一个条件为真</span><br>
                    console.log(!(<span class="code-number">x</span> < <span class="code-number">10</span>)); <span class="code-comment">// false - 取反</span><br><br>
                    
                    <span class="code-comment">// 短路运算</span><br>
                    <span class="code-keyword">let</span> result = <span class="code-boolean">false</span> && console.log(<span class="code-string">"This won't execute"</span>); <span class="code-comment">// false</span><br>
                    <span class="code-keyword">let</span> result2 = <span class="code-boolean">true</span> || console.log(<span class="code-string">"This won't execute"</span>); <span class="code-comment">// true</span><br><br>
                    
                    <span class="code-comment">// 逻辑运算符返回实际操作数的值，而不仅仅是true/false</span><br>
                    <span class="code-keyword">let</span> firstName = <span class="code-string">""</span>;<br>
                    <span class="code-keyword">let</span> lastName = <span class="code-string">"Doe"</span>;<br>
                    <span class="code-keyword">let</span> nickName = <span class="code-string">"SuperCoder"</span>;<br><br>
                    
                    console.log(firstName || lastName || nickName); <span class="code-comment">// "Doe" - 返回第一个truthy值</span><br>
                    console.log(firstName && lastName && nickName); <span class="code-comment">// "SuperCoder" - 返回最后一个值</span><br>
                </div>
            </div>
            
            <div class="operator-category">
                <div class="operator-category-title">空值合并运算符(??)</div>
                <div class="code-block">
                    <span class="code-comment">// ES2020引入的空值合并运算符 - 只有当左侧为null或undefined时才返回右侧值</span><br>
                    <span class="code-keyword">let</span> user = { name: <span class="code-string">'John'</span>, age: <span class="code-boolean">null</span> };<br><br>
                    
                    <span class="code-keyword">let</span> name = user.name ?? <span class="code-string">"Anonymous"</span>; <span class="code-comment">// "John"</span><br>
                    <span class="code-keyword">let</span> age = user.age ?? <span class="code-number">18</span>; <span class="code-comment">// 18 (age是null，所以使用默认值)</span><br>
                    <span class="code-keyword">let</span> height = user.height ?? <span class="code-number">100</span>; <span class="code-comment">// 100 (height是undefined，所以使用默认值)</span><br><br>
                    
                    console.log(name, age, height); <span class="code-comment">// "John 18 100"</span><br><br>
                    
                    <span class="code-comment">// ?? vs || 的区别</span><br>
                    <span class="code-keyword">let</span> height1 = <span class="code-number">0</span>;<br>
                    console.log(height1 || <span class="code-number">100</span>); <span class="code-comment">// 100 (0是falsy，所以返回100)</span><br>
                    console.log(height1 ?? <span class="code-number">100</span>); <span class="code-comment">// 0 (0不是null/undefined，所以返回0)</span><br>
                </div>
            </div>
            
            <h2>字符串运算符</h2>
            <p>JavaScript使用+运算符进行字符串拼接：</p>
            
            <div class="code-block">
                <span class="code-keyword">let</span> text1 = <span class="code-string">"Hello"</span>;<br>
                <span class="code-keyword">let</span> text2 = <span class="code-string">"World"</span>;<br>
                <span class="code-keyword">let</span> text3 = text1 + <span class="code-string">" "</span> + text2;<br>
                console.log(text3); <span class="code-comment">// "Hello World"</span><br><br>
                
                <span class="code-keyword">let</span> x = <span class="code-number">10</span>;<br>
                <span class="code-keyword">let</span> y = <span class="code-number">20</span>;<br>
                <span class="code-keyword">let</span> z = <span class="code-string">"The result is: "</span> + (x + y); <span class="code-comment">// 括号优先运算</span><br>
                console.log(z); <span class="code-comment">// "The result is: 30"</span><br><br>
                
                <span class="code-comment">// += 运算符用于字符串拼接</span><br>
                <span class="code-keyword">let</span> greeting = <span class="code-string">"Hello "</span>;<br>
                greeting += <span class="code-string">"John"</span>;<br>
                console.log(greeting); <span class="code-comment">// "Hello John"</span><br>
            </div>
            
            <h2>三元运算符</h2>
            <p>三元运算符是JavaScript中唯一有三个操作数的运算符，它是一个条件运算符的简写形式：</p>
            
            <div class="code-block">
                <span class="code-comment">// 语法: condition ? valueIfTrue : valueIfFalse</span><br>
                <span class="code-keyword">let</span> age = <span class="code-number">18</span>;<br>
                <span class="code-keyword">let</span> status = (age >= <span class="code-number">18</span>) ? <span class="code-string">"adult"</span> : <span class="code-string">"minor"</span>;<br>
                console.log(status); <span class="code-comment">// "adult"</span><br><br>
                
                <span class="code-comment">// 更复杂的例子</span><br>
                <span class="code-keyword">let</span> score = <span class="code-number">85</span>;<br>
                <span class="code-keyword">let</span> grade = score >= <span class="code-number">90</span> ? <span class="code-string">"A"</span> :<br>
                         score >= <span class="code-number">80</span> ? <span class="code-string">"B"</span> :<br>
                         score >= <span class="code-number">70</span> ? <span class="code-string">"C"</span> :<br>
                         score >= <span class="code-number">60</span> ? <span class="code-string">"D"</span> : <span class="code-string">"F"</span>;<br>
                console.log(grade); <span class="code-comment">// "B"</span><br><br>
                
                <span class="code-comment">// 实际应用：设置默认值</span><br>
                <span class="code-keyword">function</span> greetUser(name) {<br>
                &nbsp;&nbsp;<span class="code-keyword">const</span> userName = name ? name : <span class="code-string">"Guest"</span>;<br>
                &nbsp;&nbsp;console.log(<span class="code-string">`Hello, ${userName}!`</span>);<br>
                }<br><br>
                
                greetUser(); <span class="code-comment">// "Hello, Guest!"</span><br>
                greetUser(<span class="code-string">"Alice"</span>); <span class="code-comment">// "Hello, Alice!"</span><br>
            </div>
            
            <h2>位运算符</h2>
            <p>位运算符将操作数作为32位的二进制数进行操作：</p>
            
            <div class="code-block">
                <span class="code-keyword">let</span> a = <span class="code-number">5</span>; <span class="code-comment">// 二进制: 0101</span><br>
                <span class="code-keyword">let</span> b = <span class="code-number">3</span>; <span class="code-comment">// 二进制: 0011</span><br><br>
                
                console.log(a & b); <span class="code-comment">// 1 - 按位与: 0101 & 0011 = 0001</span><br>
                console.log(a | b); <span class="code-comment">// 7 - 按位或: 0101 | 0011 = 0111</span><br>
                console.log(a ^ b); <span class="code-comment">// 6 - 按位异或: 0101 ^ 0011 = 0110</span><br>
                console.log(~a); <span class="code-comment">// -6 - 按位非: ~(0101) = 1010 (补码)</span><br>
                console.log(a << <span class="code-number">1</span>); <span class="code-comment">// 10 - 左移: 0101 << 1 = 1010</span><br>
                console.log(a >> <span class="code-number">1</span>); <span class="code-comment">// 2 - 右移: 0101 >> 1 = 0010</span><br>
                console.log(a >>> <span class="code-number">1</span>); <span class="code-comment">// 2 - 无符号右移</span><br>
            </div>
            
            <div class="comparison">
                <div class="comparison-item">
                    <div class="comparison-title">相等运算符区别</div>
                    <ul>
                        <li><code>==</code>：执行类型转换后比较值</li>
                        <li><code>===</code>：不执行类型转换，比较值和类型</li>
                        <li>通常推荐使用<code>===</code>以避免意外的类型转换</li>
                        <li>例如：<code>0 == false</code>为true，但<code>0 === false</code>为false</li>
                    </ul>
                </div>
                
                <div class="comparison-item">
                    <div class="comparison-title">运算符优先级</div>
                    <ul>
                        <li>括号具有最高优先级</li>
                        <li>一元运算符（如++、--、!）优先级较高</li>
                        <li>算术运算符（*、/、%）优先于加减</li>
                        <li>比较运算符优先于逻辑运算符</li>
                        <li>赋值运算符优先级较低</li>
                    </ul>
                </div>
            </div>
            
            <div class="practice">
                <h3>实践练习</h3>
                <ul>
                    <li>尝试使用不同类型的值进行算术运算，观察类型转换</li>
                    <li>编写代码比较两个对象，理解为什么<code>{} === {}</code>返回false</li>
                    <li>使用三元运算符重构if-else语句</li>
                    <li>练习使用逻辑运算符的短路特性进行默认值设置</li>
                    <li>实现一个使用位运算的简单加密算法</li>
                </ul>
            </div>
            
            <h2>运算符优先级</h2>
            <p>当表达式中包含多个运算符时，根据运算符的优先级来确定执行顺序：</p>
            
            <div class="code-block">
                <span class="code-comment">// 高优先级运算符先执行</span><br>
                console.log(<span class="code-number">3</span> + <span class="code-number">4</span> * <span class="code-number">5</span>); <span class="code-comment">// 23，不是35 (乘法优先于加法)</span><br>
                console.log((<span class="code-number">3</span> + <span class="code-number">4</span>) * <span class="code-number">5</span>); <span class="code-comment">// 35 (括号改变优先级)</span><br><br>
                
                <span class="code-comment">// 逻辑运算符优先级</span><br>
                console.log(<span class="code-boolean">true</span> || <span class="code-boolean">false</span> && <span class="code-boolean">false</span>); <span class="code-comment">// true (&amp;&amp;优先于||)</span><br>
                console.log((<span class="code-boolean">true</span> || <span class="code-boolean">false</span>) && <span class="code-boolean">false</span>); <span class="code-comment">// false (括号改变优先级)</span><br><br>
                
                <span class="code-comment">// 混合运算符优先级</span><br>
                <span class="code-keyword">let</span> a = <span class="code-number">1</span>;<br>
                <span class="code-keyword">let</span> b = <span class="code-number">2</span>;<br>
                <span class="code-keyword">let</span> c = <span class="code-number">3</span>;<br>
                console.log(a + b * c); <span class="code-comment">// 7 (b * c先执行)</span><br>
                console.log((a + b) * c); <span class="code-comment">// 9 (a + b先执行)</span><br>
            </div>
        </div>
        
        <nav>
            <a href="datatypes.html" class="nav-link">← 上一课：数据类型</a>
            <a href="../index.html" class="nav-link">返回首页</a>
            <a href="control-flow.html" class="nav-link">下一课：条件语句与循环 →</a>
        </nav>
        
        <footer>
            <p>JavaScript快速上手 - 从零到大神，成为JS高手</p>
        </footer>
    </div>
</body>
</html>