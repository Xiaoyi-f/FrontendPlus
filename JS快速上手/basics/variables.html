<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>变量与常量 - JavaScript快速上手</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: #f8f9fa;
            color: #333;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            padding: 30px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }
        
        h1 {
            color: #2c3e50;
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .breadcrumb {
            color: #7f8c8d;
            margin-bottom: 15px;
        }
        
        .content {
            margin-bottom: 30px;
        }
        
        h2 {
            color: #34495e;
            margin: 25px 0 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
        }
        
        h3 {
            color: #555;
            margin: 20px 0 12px;
        }
        
        p {
            margin-bottom: 15px;
            line-height: 1.8;
        }
        
        .code-block {
            background: #2d3648;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
        }
        
        .code-comment {
            color: #637777;
        }
        
        .code-keyword {
            color: #c792ea;
        }
        
        .code-variable {
            color: #ffcb6b;
        }
        
        .code-string {
            color: #c3e88d;
        }
        
        .code-number {
            color: #f78c6c;
        }
        
        .code-function {
            color: #82aaff;
        }
        
        .code-boolean {
            color: #ff5874;
        }
        
        .variable-types-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .variable-types-table th, .variable-types-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        .variable-types-table th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        
        .variable-types-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .key-features {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
        }
        
        .key-features h3 {
            color: #0d47a1;
            margin-bottom: 15px;
        }
        
        .key-features ul {
            padding-left: 25px;
        }
        
        .key-features li {
            margin-bottom: 10px;
            line-height: 1.6;
        }
        
        .comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .comparison-item {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
        
        .comparison-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .practice {
            background: #e8f5e9;
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
        }
        
        .practice h3 {
            color: #2e7d32;
            margin-bottom: 15px;
        }
        
        .practice ul {
            padding-left: 25px;
        }
        
        .practice li {
            margin-bottom: 10px;
        }
        
        .variable-example {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }
        
        .variable-example-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        nav {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        .nav-link {
            display: inline-block;
            padding: 10px 20px;
            background: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin: 0 10px;
        }
        
        .nav-link:hover {
            background: #2980b9;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #7f8c8d;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="breadcrumb">JavaScript快速上手 > 基础语法 > 变量与常量</div>
            <h1>变量与常量</h1>
        </header>
        
        <div class="content">
            <p>变量和常量是编程的基础，它们用于存储数据值。在JavaScript中，变量和常量的声明方式有多种，每种方式都有其特定的用途和作用域规则。</p>
            
            <div class="key-features">
                <h3>变量与常量概览</h3>
                <ul>
                    <li><strong>var</strong>：传统的变量声明方式（不推荐在现代开发中使用）</li>
                    <li><strong>let</strong>：可重新赋值的变量声明</li>
                    <li><strong>const</strong>：不可重新赋值的常量声明</li>
                    <li><strong>作用域</strong>：var是函数作用域，let/const是块级作用域</li>
                    <li><strong>变量提升</strong>：声明会被提升到函数或全局作用域顶部</li>
                    <li><strong>暂时性死区</strong>：在声明前访问let/const变量会报错</li>
                </ul>
            </div>
            
            <h2>变量声明方式</h2>
            <p>JavaScript提供了三种声明变量的方式：var、let和const。它们在作用域、提升行为和重新赋值能力方面有所不同。</p>
            
            <table class="variable-types-table">
                <thead>
                    <tr>
                        <th>声明方式</th>
                        <th>作用域</th>
                        <th>提升行为</th>
                        <th>重新赋值</th>
                        <th>暂时性死区</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>var</td>
                        <td>函数作用域</td>
                        <td>完全提升</td>
                        <td>允许</td>
                        <td>无</td>
                    </tr>
                    <tr>
                        <td>let</td>
                        <td>块级作用域</td>
                        <td>声明提升，但不初始化</td>
                        <td>允许</td>
                        <td>有</td>
                    </tr>
                    <tr>
                        <td>const</td>
                        <td>块级作用域</td>
                        <td>声明提升，但不初始化</td>
                        <td>不允许</td>
                        <td>有</td>
                    </tr>
                </tbody>
            </table>
            
            <h2>var声明</h2>
            <p>var是JavaScript中最原始的变量声明方式，但在现代开发中不推荐使用，因为它存在一些问题：</p>
            
            <div class="code-block">
                <span class="code-comment">// var声明</span><br>
                <span class="code-keyword">var</span> message = <span class="code-string">"Hello, World!"</span>;<br>
                <span class="code-keyword">var</span> count = <span class="code-number">42</span>;<br>
                <span class="code-keyword">var</span> isActive = <span class="code-boolean">true</span>;<br><br>
                
                <span class="code-comment">// var的问题：函数作用域</span><br>
                <span class="code-keyword">if</span> (<span class="code-boolean">true</span>) {<br>
                &nbsp;&nbsp;<span class="code-keyword">var</span> varVariable = <span class="code-string">"I'm inside an if block"</span>;<br>
                }<br>
                console.log(varVariable); <span class="code-comment">// "I'm inside an if block" - var不受块级作用域限制</span><br><br>
                
                <span class="code-comment">// var的问题：变量提升</span><br>
                console.log(hoistedVar); <span class="code-comment">// undefined（而不是报错）</span><br>
                <span class="code-keyword">var</span> hoistedVar = <span class="code-string">"I'm hoisted"</span>;<br><br>
                
                <span class="code-comment">// 等价于：</span><br>
                <span class="code-comment">// var hoistedVar;</span><br>
                <span class="code-comment">// console.log(hoistedVar); // undefined</span><br>
                <span class="code-comment">// hoistedVar = "I'm hoisted";</span>
            </div>
            
            <h2>let声明</h2>
            <p>let提供了块级作用域，是现代JavaScript开发中声明变量的推荐方式：</p>
            
            <div class="code-block">
                <span class="code-comment">// let声明</span><br>
                <span class="code-keyword">let</span> message = <span class="code-string">"Hello, World!"</span>;<br>
                <span class="code-keyword">let</span> count = <span class="code-number">42</span>;<br>
                <span class="code-keyword">let</span> isActive = <span class="code-boolean">true</span>;<br><br>
                
                <span class="code-comment">// let的块级作用域</span><br>
                <span class="code-keyword">if</span> (<span class="code-boolean">true</span>) {<br>
                &nbsp;&nbsp;<span class="code-keyword">let</span> letVariable = <span class="code-string">"I'm inside an if block"</span>;<br>
                &nbsp;&nbsp;console.log(letVariable); <span class="code-comment">// "I'm inside an if block"</span><br>
                }<br>
                <span class="code-comment">// console.log(letVariable); // ReferenceError: letVariable is not defined</span><br><br>
                
                <span class="code-comment">// 暂时性死区</span><br>
                <span class="code-comment">// console.log(tempVariable); // ReferenceError: Cannot access 'tempVariable' before initialization</span><br>
                <span class="code-keyword">let</span> tempVariable = <span class="code-string">"I'm initialized"</span>;<br><br>
                
                <span class="code-comment">// let变量可以重新赋值</span><br>
                <span class="code-keyword">let</span> color = <span class="code-string">"blue"</span>;<br>
                color = <span class="code-string">"red"</span>;<br>
                console.log(color); <span class="code-comment">// "red"</span>
            </div>
            
            <div class="comparison">
                <div class="comparison-item">
                    <div class="comparison-title">var vs let 作用域差异</div>
                    <div class="code-block">
                        <span class="code-comment">// var - 函数作用域</span><br>
                        <span class="code-keyword">function</span> varExample() {<br>
                        &nbsp;&nbsp;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i = <span class="code-number">0</span>; i < <span class="code-number">3</span>; i++) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-comment">// i在函数作用域内可见</span><br>
                        &nbsp;&nbsp;}<br>
                        &nbsp;&nbsp;console.log(i); <span class="code-comment">// 3 - 可以访问循环变量</span><br>
                        }<br><br>
                        
                        <span class="code-comment">// let - 块级作用域</span><br>
                        <span class="code-keyword">function</span> letExample() {<br>
                        &nbsp;&nbsp;<span class="code-keyword">for</span>(<span class="code-keyword">let</span> j = <span class="code-number">0</span>; j < <span class="code-number">3</span>; j++) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-comment">// j只在循环块内可见</span><br>
                        &nbsp;&nbsp;}<br>
                        &nbsp;&nbsp;<span class="code-comment">// console.log(j); // ReferenceError: j is not defined</span><br>
                        }
                    </div>
                </div>
                
                <div class="comparison-item">
                    <div class="comparison-title">循环中的闭包问题</div>
                    <div class="code-block">
                        <span class="code-comment">// 使用var的问题</span><br>
                        <span class="code-keyword">for</span>(<span class="code-keyword">var</span> i = <span class="code-number">0</span>; i < <span class="code-number">3</span>; i++) {<br>
                        &nbsp;&nbsp;setTimeout(<span class="code-keyword">function</span>() {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;console.log(i); <span class="code-comment">// 输出3次 3</span><br>
                        &nbsp;&nbsp;}, <span class="code-number">100</span>);<br>
                        }<br><br>
                        
                        <span class="code-comment">// 使用let的解决方案</span><br>
                        <span class="code-keyword">for</span>(<span class="code-keyword">let</span> j = <span class="code-number">0</span>; j < <span class="code-number">3</span>; j++) {<br>
                        &nbsp;&nbsp;setTimeout(<span class="code-keyword">function</span>() {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;console.log(j); <span class="code-comment">// 输出 0, 1, 2</span><br>
                        &nbsp;&nbsp;}, <span class="code-number">200</span>);<br>
                        }
                    </div>
                </div>
            </div>
            
            <h2>const声明</h2>
            <p>const用于声明常量，一旦声明就必须初始化，且不能重新赋值。对于对象和数组，虽然不能重新赋值整个对象/数组，但可以修改其内部属性/元素：</p>
            
            <div class="code-block">
                <span class="code-comment">// const声明常量</span><br>
                <span class="code-keyword">const</span> PI = <span class="code-number">3.14159</span>;<br>
                <span class="code-keyword">const</span> appName = <span class="code-string">"My Application"</span>;<br>
                <span class="code-keyword">const</span> user = { name: <span class="code-string">"John"</span>, age: <span class="code-number">30</span> };<br><br>
                
                <span class="code-comment">// PI = 3.14; // TypeError: Assignment to constant variable.</span><br><br>
                
                <span class="code-comment">// 对于对象，可以修改属性</span><br>
                user.age = <span class="code-number">31</span>;<br>
                user.email = <span class="code-string">"john@example.com"</span>;<br>
                console.log(user); <span class="code-comment">// {name: "John", age: 31, email: "john@example.com"}</span><br><br>
                
                <span class="code-comment">// 但不能重新赋值整个对象</span><br>
                <span class="code-comment">// user = {name: "Jane"}; // TypeError: Assignment to constant variable.</span><br><br>
                
                <span class="code-comment">// 对于数组，可以修改元素</span><br>
                <span class="code-keyword">const</span> numbers = [<span class="code-number">1</span>, <span class="code-number">2</span>, <span class="code-number">3</span>];<br>
                numbers.push(<span class="code-number">4</span>);<br>
                console.log(numbers); <span class="code-comment">// [1, 2, 3, 4]</span><br><br>
                
                <span class="code-comment">// 但不能重新赋值整个数组</span><br>
                <span class="code-comment">// numbers = [5, 6, 7]; // TypeError: Assignment to constant variable.</span>
            </div>
            
            <div class="variable-example">
                <div class="variable-example-title">实际应用场景</div>
                <div class="code-block">
                    <span class="code-comment">// 使用const声明不会改变的值</span><br>
                    <span class="code-keyword">const</span> API_URL = <span class="code-string">"https://api.example.com"</span>;<br>
                    <span class="code-keyword">const</span> MAX_RETRY_COUNT = <span class="code-number">3</span>;<br>
                    <span class="code-keyword">const</span> SUPPORTED_FORMATS = [<span class="code-string">"jpg"</span>, <span class="code-string">"png"</span>, <span class="code-string">"gif"</span>];<br><br>
                    
                    <span class="code-comment">// 使用let声明会改变的值</span><br>
                    <span class="code-keyword">let</span> currentUser = <span class="code-boolean">null</span>;<br>
                    <span class="code-keyword">let</span> isLoggedIn = <span class="code-boolean">false</span>;<br>
                    <span class="code-keyword">let</span> items = [];<br><br>
                    
                    <span class="code-keyword">function</span> login(username) {<br>
                    &nbsp;&nbsp;currentUser = username;<br>
                    &nbsp;&nbsp;isLoggedIn = <span class="code-boolean">true</span>;<br>
                    &nbsp;&nbsp;items = []; <span class="code-comment">// 重置items数组</span><br>
                    }<br><br>
                    
                    <span class="code-keyword">function</span> addItem(item) {<br>
                    &nbsp;&nbsp;<span class="code-keyword">if</span> (SUPPORTED_FORMATS.includes(item.format)) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;items.push(item);<br>
                    &nbsp;&nbsp;} <span class="code-keyword">else</span> {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;console.error(<span class="code-string">"不支持的格式"</span>);<br>
                    &nbsp;&nbsp;}<br>
                    }
                </div>
            </div>
            
            <div class="practice">
                <h3>实践练习</h3>
                <ul>
                    <li>声明一个const变量存储你的姓名，然后尝试修改它，观察结果</li>
                    <li>创建一个let变量，然后在if块中修改它，看是否能在块外访问修改后的值</li>
                    <li>使用const声明一个对象，尝试修改对象的属性，观察结果</li>
                    <li>创建一个循环，使用var和let分别声明循环变量，比较它们的作用域</li>
                    <li>尝试在声明前访问一个let变量，观察结果</li>
                </ul>
            </div>
            
            <h2>变量命名规则</h2>
            <p>JavaScript变量命名需要遵循特定规则：</p>
            <ul>
                <li>必须以字母、下划线(_)或美元符号($)开头</li>
                <li>后续字符可以是字母、数字、下划线或美元符号</li>
                <li>区分大小写（age和Age是不同变量）</li>
                <li>不能使用保留字（如var、let、const、if、else等）</li>
                <li>推荐使用驼峰命名法（camelCase）</li>
            </ul>
            
            <div class="code-block">
                <span class="code-comment">// 正确的命名</span><br>
                <span class="code-keyword">let</span> userName = <span class="code-string">"John"</span>;<br>
                <span class="code-keyword">let</span> _privateVar = <span class="code-string">"private"</span>;<br>
                <span class="code-keyword">let</span> $element = <span class="code-string">"jQuery element"</span>;<br>
                <span class="code-keyword">let</span> count123 = <span class="code-number">123</span>;<br><br>
                
                <span class="code-comment">// 错误的命名</span><br>
                <span class="code-comment">// let 123count = 123; // 不能以数字开头</span><br>
                <span class="code-comment">// let my-variable = "test"; // 连字符会被解释为减法操作</span><br>
                <span class="code-comment">// let var = "keyword"; // 不能使用保留字</span>
            </div>
        </div>
        
        <nav>
            <a href="../index.html" class="nav-link">返回首页</a>
            <a href="datatypes.html" class="nav-link">下一课：数据类型 →</a>
        </nav>
        
        <footer>
            <p>JavaScript快速上手 - 从零到大神，成为JS高手</p>
        </footer>
    </div>
</body>
</html>